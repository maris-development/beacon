# Analyze Query Plans

It is possible to analyze the query plan generated by Beacon by using the `/api/explain-query` endpoint. This endpoint returns the query plan in JSON format, which can be used to understand how the query is executed by Beacon.

```json
[
    {
        "Plan": {
            "Condition": "st_within_point(st_geojson_as_wkt(Utf8(\"{\"type\":\"Polygon\",\"coordinates\":[[[-5.0,20.0],[-5.0,60.0],[25.0,60.0],[25.0,20.0]]]}\")), Longitude, Latitude)",
            "Node Type": "Filter",
            "Output": [
                "Depth",
                "Longitude",
                "Latitude",
                "Time",
                "COMMON_ORIGIN_CHLOROPHYLL",
                "COMMON_ORIGIN_CHLOROPHYLL_QC",
                "SOURCE_BDI"
            ],
            "Plans": [
                {
                    "Expressions": [
                        "test1.COMMON_ORIGIN_DEPTH AS Depth",
                        "test1.COMMON_LONGITUDE AS Longitude",
                        "test1.COMMON_LATITUDE AS Latitude",
                        "test1.COMMON_TIME AS Time",
                        "test1.COMMON_ORIGIN_CHLOROPHYLL",
                        "test1.COMMON_ORIGIN_CHLOROPHYLL_QC",
                        "test1.SOURCE_BDI"
                    ],
                    "Node Type": "Projection",
                    "Output": [
                        "Depth",
                        "Longitude",
                        "Latitude",
                        "Time",
                        "COMMON_ORIGIN_CHLOROPHYLL",
                        "COMMON_ORIGIN_CHLOROPHYLL_QC",
                        "SOURCE_BDI"
                    ],
                    "Plans": [
                        {
                            "Node Type": "TableScan",
                            "Output": [
                                "SOURCE_BDI",
                                "SOURCE_BDI_DATASET_ID",
                                "COMMON_ORIGIN_CHLOROPHYLL",
                                "COMMON_ORIGIN_CHLOROPHYLL_QC",
                                "COMMON_ORIGIN_CHLOROPHYLL_UNITS",
                                "COMMON_ORIGIN_CHLOROPHYLL_STANDARD_NAME",
                                "COMMON_ORIGIN_CHLOROPHYLL_P01",
                                "COMMON_ORIGIN_CHLOROPHYLL_P06",
                                "COMMON_CHLOROPHYLL_PER_VOLUME",
                                "COMMON_CHLOROPHYLL_PER_VOLUME_QC",
                                "COMMON_CHLOROPHYLL_PER_VOLUME_UNITS",
                                "COMMON_CHLOROPHYLL_PER_VOLUME_STANDARD_NAME",
                                "COMMON_CHLOROPHYLL_PER_VOLUME_P01",
                                "COMMON_CHLOROPHYLL_PER_VOLUME_P06",
                                "COMMON_ORIGIN_NITRATE",
                                "COMMON_ORIGIN_NITRATE_QC",
                                "COMMON_ORIGIN_NITRATE_UNITS",
                                "COMMON_ORIGIN_NITRATE_STANDARD_NAME",
                                "COMMON_ORIGIN_NITRATE_P01",
                                "COMMON_ORIGIN_NITRATE_P06",
                                "COMMON_ORIGIN_OXYGEN",
                                "COMMON_ORIGIN_OXYGEN_QC",
                                "COMMON_ORIGIN_OXYGEN_UNITS",
                                "COMMON_ORIGIN_OXYGEN_STANDARD_NAME",
                                "COMMON_ORIGIN_OXYGEN_P01",
                                "COMMON_ORIGIN_OXYGEN_P06",
                                "COMMON_ORIGIN_PHOSPHATE",
                                "COMMON_ORIGIN_PHOSPHATE_QC",
                                "COMMON_ORIGIN_PHOSPHATE_UNITS",
                                "COMMON_ORIGIN_PHOSPHATE_STANDARD_NAME",
                                "COMMON_ORIGIN_PHOSPHATE_P01",
                                "COMMON_ORIGIN_PHOSPHATE_P06",
                                "COMMON_ORIGIN_SALINITY",
                                "COMMON_ORIGIN_SALINITY_QC",
                                "COMMON_ORIGIN_SALINITY_UNITS",
                                "COMMON_ORIGIN_SALINITY_STANDARD_NAME",
                                "COMMON_ORIGIN_SALINITY_P01",
                                "COMMON_ORIGIN_SALINITY_P06",
                                "COMMON_ORIGIN_SILICATE",
                                "COMMON_ORIGIN_SILICATE_QC",
                                "COMMON_ORIGIN_SILICATE_UNITS",
                                "COMMON_ORIGIN_SILICATE_STANDARD_NAME",
                                "COMMON_ORIGIN_SILICATE_P01",
                                "COMMON_ORIGIN_SILICATE_P06",
                                "COMMON_ORIGIN_TEMPERATURE",
                                "COMMON_ORIGIN_TEMPERATURE_QC",
                                "COMMON_ORIGIN_TEMPERATURE_UNITS",
                                "COMMON_ORIGIN_TEMPERATURE_STANDARD_NAME",
                                "COMMON_ORIGIN_TEMPERATURE_P01",
                                "COMMON_ORIGIN_TEMPERATURE_P06",
                                "COMMON_ORIGIN_DEPTH",
                                "COMMON_ORIGIN_DEPTH_STANDARD_NAME",
                                "COMMON_ORIGIN_DEPTH_UNITS",
                                "COMMON_ORIGIN_DEPTH_QC",
                                "COMMON_ORIGIN_DEPTH_P01",
                                "COMMON_ORIGIN_DEPTH_P06",
                                "COMMON_DEPTH",
                                "COMMON_DEPTH_STANDARD_NAME",
                                "COMMON_DEPTH_UNITS",
                                "COMMON_DEPTH_QC",
                                "COMMON_DEPTH_P01",
                                "COMMON_DEPTH_P06",
                                "COMMON_LONGITUDE",
                                "COMMON_LONGITUDE_UNITS",
                                "COMMON_LONGITUDE_STANDARD_NAME",
                                "COMMON_LONGITUDE_P01",
                                "COMMON_LONGITUDE_P06",
                                "COMMON_LATITUDE",
                                "COMMON_LATITUDE_UNITS",
                                "COMMON_LATITUDE_STANDARD_NAME",
                                "COMMON_LATITUDE_P01",
                                "COMMON_LATITUDE_P06",
                                "COMMON_TIME",
                                "COMMON_TIME_QC",
                                "COMMON_EDMO_CODE",
                                "COMMON_EDMERP_CODE",
                                "COMMON_CSR",
                                "COMMON_DATE_UPDATE",
                                "COMMON_PLATFORM_L06",
                                "COMMON_PLATFORM_B76",
                                "COMMON_PLATFORM_C17",
                                "COMMON_INSTRUMENT_L05",
                                "COMMON_INSTRUMENT_L22",
                                "COMMON_ORIGIN_OXYGEN_SATURATION",
                                "COMMON_ORIGIN_OXYGEN_SATURATION_QC",
                                "COMMON_ORIGIN_OXYGEN_SATURATION_STANDARD_NAME",
                                "COMMON_ORIGIN_OXYGEN_SATURATION_P01",
                                "COMMON_ORIGIN_OXYGEN_SATURATION_UNITS",
                                "COMMON_ORIGIN_OXYGEN_SATURATION_P06",
                                "COMMON_OXYGEN_SATURATION",
                                "COMMON_OXYGEN_SATURATION_QC",
                                "COMMON_OXYGEN_SATURATION_STANDARD_NAME",
                                "COMMON_OXYGEN_SATURATION_P01",
                                "COMMON_OXYGEN_SATURATION_UNITS",
                                "COMMON_OXYGEN_SATURATION_P06",
                                "COMMON_POSITION_QC"
                            ],
                            "Plans": [],
                            "Relation Name": "test1"
                        }
                    ]
                }
            ]
        }
    }
]

```
